<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruby Cheat Sheet - Page 2</title>
    <link rel="stylesheet" href="assets/theme.css">
    
    <style>
        /* Compact buttons for cheat sheet pages (Page 1 & 2) */
        .cheat-page .btn {
            padding: 4px 10px;
            font-size: 0.75rem;
            line-height: 1;
            min-height: unset;
        }

        .topbar {
            padding-top: 2px;
            padding-bottom: 2px;
            align-items: flex-start;
        }

        .topbar .nav {
            margin-top: -2px;
        }

        .topbar h1 {
            font-size: 1.25rem;
            line-height: 1.2;
        }
    </style>
</head>
<body class="cheat-page">
    <div class="topbar">
        <h1 class="title">
            <img src="images/ruby-logo.png" alt="" class="ruby-logo">
            Ruby Cheat Sheet 2
        </h1>
        <nav class="nav">
            <a class="btn primary" href="index.html">Home</a>
            <a class="btn primary" href="cheat-sheet-page1.html">Page 1</a>
            <span class="nav-current">Page 2</span>
        </nav>
    </div>
    <div class="cheatsheet">
        <div class="block">
            <h2>Loops/Iteration (part 2)</h2>
            <pre><code><span class="c"># while loop</span>
count = 0
while count < 3
  puts count
  count += 1
end

<span class="c"># until loop (opposite of while)</span>
count = 0
until count == 3
  puts count
  count += 1
end</code></pre>
        </div>
        <div class="block">
            <h2>Truthiness (nil vs false) (Ruby-specific)</h2>
            <ul>
                <li>Only false and nil are treated as false</li>
                <li>Everything else is treated as true</li>
                <li>Commonly used in <code>if</code>, <code>elsif</code>, <code>unless</code> (opposite of if)</li>
                <li>Simplifies checking for existence (nil or false)</li>
            </ul>
            <pre><code>false   <span class="c"># false</span>
nil     <span class="c"># false</span>

0       <span class="c"># true</span>
""      <span class="c"># true (empty string)</span>
[]      <span class="c"># true (empty array)</span>

<span class="c"># Instead of this</span>
if customer != nil
  puts "Customer exists"
end

<span class="c"># Do this</span>
if customer
  puts "Customer exists"
end</code></pre>
        </div>
        <div class="block">
            <h2>Safe Navigation (&.)</h2>
            <ul>
                <li>Used to safely call methods on values that might be <code>nil</code></li>
                <li>Prevents <code>NoMethodError</code></li>
                <li>Returns <code>nil</code> if the object is <code>nil</code></li>
                <li>Ruby has no compile-time validation, so these checks are required at run time</li>
            </ul>
            <pre><code>user = nil
user.name   <span class="c"># NoMethodError</span>
user&.name  <span class="c"># nil</span>

<span class="c"># Safe even if order or customer is nil</span>
order&.customer&.email</code></pre>
        </div>
        <div class="block">
            <h2>Ranges (.. and ...)</h2>
            <ul>
                <li>Represent a sequence of values</li>
                <li>Commonly used in loops and conditionals</li>
                <li><code>..</code> includes the end value</li>
                <li><code>...</code> excludes the end value</li>
            </ul>
            <pre><code><span class="c"># Inclusive range (all values from 1 to 5)</span>
(1..5).each do |n|
  puts n
end

<span class="c"># Exclusive range (all values from 1 to 4)</span>
(1...5).each do |n|
  puts n
end

<span class="c"># Range in condition</span>
age = 25
puts "Adult" if (18..65).include?(age)</code></pre>
        </div>
        <div class="block">
            <h2>Blocks (do..end, { })</h2>
            <ul>
                <li>Blocks are chunks of code passed to methods and executed later.</li>
                <li>Use do..end for multi-line blocks.</li>
                <li>Use { } for single-line blocks.</li>
            </ul>
            <pre><code><span class="c"># Multi-line block</span>
[1, 2, 3].each do |n|
    puts n
end

<span class="c"># Single-line block</span>
[1, 2, 3].each { |n| puts n }</code></pre>
        </div>
        <div class="block">
            <h2>Bang Methods (!)</h2>
            <ul>
                <li>Methods ending with ! change the original object in place (convention)</li>
                <li>Non-bang versions usually return a new object instead</li>
            </ul>
            <pre><code>numbers = [3, 1, 2]
numbers.sort     <span class="c"># returns a new array</span>
numbers.sort!    <span class="c"># changes numbers in place</span></code></pre>
        </div>
        <div class="block">
            <h2>Predicate Methods (?)</h2>
            <ul>
                <li>Methods ending with ? return true or false (convention)</li>
            </ul>
            <pre><code>5.even?      <span class="c"># false</span>
6.even?      <span class="c"># true</span>
name.empty?  <span class="c"># true/false</span></code></pre>
        </div>
                <div class="block">
                        <h2>Exception Handling (begin / rescue / ensure)</h2>
                        <ul>
                                <li>Used to handle runtime errors safely</li>
                                <li>Prevents program crashes</li>
                                <li><code>rescue</code> catches errors</li>
                                <li><code>ensure</code> always runs (optional)</li>
                        </ul>
                        <pre><code>begin
    result = 10 / 0
rescue ZeroDivisionError
    puts "Cannot divide by zero"
ensure
    puts "Done"
end

<span class="c"># Rescue shorthand (common, use sparingly)</span>
result = 10 / value rescue nil</code></pre>
                </div>
        <div class="block">
            <h2>Classes</h2>
            <ul>
                <li>Blueprints for creating objects</li>
                <li>Group data (variables) and behaviour (methods)</li>
                <li>Used to represent things like users, orders or settings</li>
            </ul>
            <pre><code>class Order
    def total
        44.50
    end
end</code></pre>
        </div>
        <div class="block">
            <h2>Accessors (attr_reader, attr_writer, attr_accessor)</h2>
            <ul>
                <li>Create getter and/or setter methods automatically</li>
                <li>Reduce repetitive code in classes</li>
                <li>Used inside classes</li>
                <li>They generate methods, not properties (Ruby has no properties)</li>
            </ul>
            <pre><code>class User
  attr_reader :name        <span class="c"># getter only</span>
  attr_writer :email       <span class="c"># setter only</span>
  attr_accessor :age       <span class="c"># getter and setter</span>

  def initialize(name, age)
    @name = name
    @age = age
  end
end</code></pre>
        </div>
        <div class="block">
            <h2>Modules</h2>
            <h3>Namespacing module</h3>
            <ul>
                <li>Group related code and constants</li>
                <li>Used for <strong>namespacing</strong> (organising code)</li>
                <li>Cannot be instantiated</li>
            </ul>
            <pre><code><span class="c"># Namespacing</span>
module Payments
  TAX_RATE = 0.1
end

Payments::TAX_RATE</code></pre>
        </div>
        <div class="block">
            <h3>Mixins module</h3>
            <ul>
                <li>Used to share methods between classes</li>
                <li>Methods become instance methods of the class</li>
                <li>Included into classes using <code>include</code></li>
            </ul>
<pre><code>module Printable
  def print_name
    puts name
  end
end

class User
  include Printable
  attr_reader :name

  def initialize(name)
    @name = name
  end
end</code></pre>
        </div>
        <div class="block">
            <h2>Reusable Code</h2>
            <div class="gems">
                <h3>Gems</h3>
                <ul>
                    <li>See 
                        <a href="reusable_code.html" target="_blank" rel="noopener">
                            Reusable Code
                        </a> to learn about libraries (gems) that save you time
                    </li>
                    <li>Use the gem command to install</li>
                </ul>
                <pre><code>gem install rails</code></pre>
            </div>
        </div>
    </div>
</body>
</html>
